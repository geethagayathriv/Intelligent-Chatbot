{"ast":null,"code":"import'./App.css';import Header from'./components/Header/Header';import Messages from'./components/Messages/Messages';import Input from'./components/Input/Input';import Chatbotbox from'./components/chatbox/Chatbotbox';import{useEffect,useRef,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isChatboxOpen,setIsChatboxOpen]=useState(false);const[status,setSatus]=useState('Not Active');const[messages,setMessages]=useState([]);const[isLoading,setIsLoading]=useState(false);const inputRef=useRef();const toggleChatbox=()=>{setIsChatboxOpen(!isChatboxOpen);};useEffect(()=>{if(isChatboxOpen){setSatus('Active');}else{setSatus('Not Active');}},[isChatboxOpen]);const handleSend=async()=>{const userMessage=inputRef.current.value;if(!userMessage.trim())return;const newMessage=[...messages,{sender:'human',text:userMessage,timestamp:new Date().toISOString()}];setMessages(newMessage);inputRef.current.value=\"\";setIsLoading(true);console.log(messages);try{const endPoint='http://localhost:8000/chat';const response=await axios.post(endPoint,{question:userMessage});console.log(response);const botMessage={text:response.data.response,sender:'bot',timestamp:new Date().toISOString()};setMessages(prevMessages=>[...prevMessages,botMessage]);}catch(error){console.log('error sending message: ',error);}finally{setIsLoading(false);// Set loading state to false\n}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper \".concat(isChatboxOpen?'open':'closed'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Header,{name:\"ChatBot\",status:status,closeChat:toggleChatbox})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main_content\",children:[/*#__PURE__*/_jsx(Messages,{messages:messages}),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-dots\",children:\"...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom\",children:/*#__PURE__*/_jsx(Input,{inputRef:inputRef,handleSend:handleSend})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chatbot_icon\",children:/*#__PURE__*/_jsx(Chatbotbox,{isOpen:isChatboxOpen,toggleChatbox:toggleChatbox})})]});}export default App;","map":{"version":3,"names":["Header","Messages","Input","Chatbotbox","useEffect","useRef","useState","axios","jsx","_jsx","jsxs","_jsxs","App","isChatboxOpen","setIsChatboxOpen","status","setSatus","messages","setMessages","isLoading","setIsLoading","inputRef","toggleChatbox","handleSend","userMessage","current","value","trim","newMessage","sender","text","timestamp","Date","toISOString","console","log","endPoint","response","post","question","botMessage","data","prevMessages","error","className","children","concat","name","closeChat","isOpen"],"sources":["C:/Users/HP/OneDrive/Documents/Projects/Intelligent-Chatbot/src/App.js"],"sourcesContent":["import './App.css';\nimport Header from './components/Header/Header';\nimport Messages from './components/Messages/Messages';\nimport Input from './components/Input/Input';\nimport Chatbotbox from './components/chatbox/Chatbotbox';\nimport { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n\n    const [isChatboxOpen,setIsChatboxOpen]=useState(false)\n    const [status,setSatus]=useState('Not Active')\n    const [messages,setMessages]=useState([])\n    const [isLoading, setIsLoading] = useState(false);\n    const inputRef=useRef();   \n\n    const toggleChatbox=()=>{\n      setIsChatboxOpen(!isChatboxOpen)\n    }\n    useEffect(()=>{\n      if(isChatboxOpen){\n        setSatus('Active');\n      }\n      else{\n        setSatus('Not Active')\n      }\n    },[isChatboxOpen]);\n\n    const handleSend=async()=>{\n      const userMessage=inputRef.current.value;\n      if(!userMessage.trim()) return;\n      const newMessage=[...messages,{sender:'human',text:userMessage,timestamp:new Date().toISOString()}];\n      setMessages(newMessage)\n      inputRef.current.value=\"\";\n      setIsLoading(true);\n      console.log(messages)\n      try{\n        const endPoint='http://localhost:8000/chat'\n        const response=await axios.post(endPoint,{\n          question: userMessage,\n      });\n        console.log(response)\n        const botMessage={\n          text:response.data.response,\n          sender:'bot',\n          timestamp:new Date().toISOString()\n        }\n        setMessages(prevMessages=>[...prevMessages,botMessage])\n      }\n      catch(error){\n        console.log('error sending message: ',error)\n      }\n      finally {\n        setIsLoading(false); // Set loading state to false\n      }\n    }\n\n  return (\n    <div className=\"App\">\n      <div className={`wrapper ${isChatboxOpen?'open':'closed'}`}>\n          <div className=\"content\">\n            <Header name=\"ChatBot\" status={status} closeChat={toggleChatbox}/>\n          </div>\n          <div className=\"main\">\n            <div className=\"main_content\">\n              <Messages messages={messages}/>\n              {isLoading && <div className=\"loading-dots\">...</div>}\n            </div>\n            <div className=\"bottom\"> \n              <Input inputRef={inputRef} handleSend={handleSend}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"chatbot_icon\">\n        <Chatbotbox isOpen={isChatboxOpen} toggleChatbox={toggleChatbox}/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}